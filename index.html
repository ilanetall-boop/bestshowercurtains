<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PC9GTP4DCP"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-PC9GTP4DCP');
  </script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Best Shower Curtains - Expert Reviews & Buying Guides 2026</title>
  <meta name="description" content="Find the best shower curtains for your bathroom. Expert reviews, material comparisons, and style guides for waterproof, mildew-resistant shower curtains.">

  <!-- SEO Meta Tags -->
  <meta name="robots" content="index, follow">
  <meta property="og:title" content="Best Shower Curtains - Expert Reviews & Buying Guides 2026">
  <meta property="og:description" content="Find the best shower curtains for your bathroom. Expert reviews, material comparisons, and style guides for waterproof, mildew-resistant shower curtains.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.best-shower-curtains.com/">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Best Shower Curtains - Expert Reviews & Buying Guides 2026">
  <meta name="twitter:description" content="Find the best shower curtains for your bathroom. Expert reviews, material comparisons, and style guides for waterproof, mildew-resistant shower curtains.">
  <link rel="canonical" href="https://www.best-shower-curtains.com/">

  <!-- OPTIMISATION LCP CRITIQUE -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- PRELOAD IMAGE LCP EN WebP -->
  <link rel="preload" href="images/top-7-best-shower-curtains-2026-hero.jpg" as="image" fetchpriority="high">

  <!-- PRELOAD ARTICLES JSON -->
  <link rel="preload" href="articles.json" as="fetch" crossorigin>

  <script src="components/site-config.js"></script>

  <!-- CSS CRITIQUE INLINE -->
  <style>
    :root {
      --primary: #00695C;
      --primary-light: #26A69A;
      --primary-dark: #004D40;
      --accent: #FF6F00;
      --accent-dark: #E65100;
      --bg-light: #F5F5F5;
      --text: #3e3e3e;
      --text-light: #666;
      --border: #e5e5e5;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      color: var(--text);
      background: #fff;
    }

    .container { max-width: 1200px; margin: 0 auto; padding: 0 1rem; }

    /* HERO SECTION */
    .hero {
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
      color: #fff;
      padding: 3rem 0;
    }

    .hero-grid {
      display: grid;
      gap: 2rem;
      align-items: center;
    }

    .hero-image {
      width: 100%;
      height: auto;
      aspect-ratio: 800/240;
      object-fit: cover;
      border-radius: .75rem;
      box-shadow: 0 8px 24px rgba(0,0,0,.3);
    }

    .hero-content h2 {
      font-size: 2rem;
      font-weight: 800;
      line-height: 1.2;
      margin-bottom: 1rem;
    }

    .hero-content p {
      font-size: 1.1rem;
      opacity: .9;
      margin-bottom: 1.5rem;
      line-height: 1.7;
    }

    .hero-meta {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
      font-size: .875rem;
      opacity: .8;
    }

    .hero-tag {
      background: rgba(255,255,255,.2);
      padding: .25rem .75rem;
      border-radius: 9999px;
      font-weight: 600;
      font-size: .75rem;
      text-transform: uppercase;
    }

    /* BUTTONS */
    .btn-primary {
      background: var(--accent);
      color: #fff;
      padding: .75rem 1.5rem;
      border: none;
      border-radius: .375rem;
      font-weight: 600;
      text-decoration: none;
      display: inline-block;
      transition: all .3s ease;
      cursor: pointer;
      font-size: 1rem;
    }
    .btn-primary:hover { background: var(--accent-dark); transform: translateY(-1px); }

    .btn-outline {
      background: transparent;
      color: #fff;
      padding: .75rem 1.5rem;
      border: 2px solid rgba(255,255,255,.4);
      border-radius: .375rem;
      font-weight: 600;
      text-decoration: none;
      display: inline-block;
      transition: all .3s ease;
      margin-left: .75rem;
    }
    .btn-outline:hover { border-color: #fff; background: rgba(255,255,255,.1); }

    /* SECTION HEADERS */
    .section-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 2rem;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .section-header h2 {
      font-size: 1.75rem;
      font-weight: 700;
      color: var(--primary);
    }

    .section-header a {
      color: var(--accent);
      text-decoration: none;
      font-weight: 600;
      font-size: .875rem;
    }
    .section-header a:hover { text-decoration: underline; }

    /* CATEGORY FILTERS */
    .category-filters {
      display: flex;
      gap: .5rem;
      flex-wrap: wrap;
      margin-bottom: 2rem;
    }

    .filter-btn {
      padding: .5rem 1.25rem;
      border: 1px solid var(--border);
      border-radius: 9999px;
      background: #fff;
      color: var(--text);
      font-size: .875rem;
      font-weight: 500;
      cursor: pointer;
      transition: all .3s ease;
    }
    .filter-btn:hover { border-color: var(--primary-light); color: var(--primary); }
    .filter-btn.active {
      background: var(--primary);
      color: #fff;
      border-color: var(--primary);
    }

    /* ARTICLES GRID */
    .articles-section { padding: 3rem 0; }

    .articles-grid {
      display: grid;
      gap: 1.5rem;
    }

    .article-card {
      background: #fff;
      border-radius: .75rem;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0,0,0,.08);
      transition: transform .3s ease, box-shadow .3s ease;
      border: 1px solid var(--border);
    }
    .article-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 24px rgba(0,0,0,.12);
    }

    .article-card img {
      width: 100%;
      height: auto;
      aspect-ratio: 400/192;
      object-fit: cover;
    }

    .article-card-content { padding: 1.25rem; }

    .article-card-meta {
      display: flex;
      align-items: center;
      gap: .5rem;
      margin-bottom: .75rem;
    }

    .tag {
      font-size: .7rem;
      padding: .2rem .5rem;
      border-radius: 9999px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: .03em;
    }
    .tag-reviews { background: #FFF3E0; color: #E65100; }
    .tag-guides { background: #E8F5E9; color: #2E7D32; }
    .tag-comparisons { background: #E3F2FD; color: #1565C0; }

    .article-card-date {
      font-size: .75rem;
      color: #999;
    }

    .article-card h3 {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: .5rem;
      line-height: 1.3;
    }

    .article-card h3 a {
      color: inherit;
      text-decoration: none;
      transition: color .3s ease;
    }
    .article-card h3 a:hover { color: var(--accent); }

    .article-card p {
      color: var(--text-light);
      font-size: .875rem;
      margin-bottom: 1rem;
      line-height: 1.5;
    }

    .read-more {
      color: var(--accent);
      font-weight: 600;
      text-decoration: none;
      font-size: .875rem;
      display: inline-flex;
      align-items: center;
      gap: .25rem;
      transition: gap .3s ease;
    }
    .read-more:hover { gap: .5rem; }

    /* NEWSLETTER */
    .newsletter-section {
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
      color: #fff;
      padding: 3.5rem 0;
      margin: 3rem 0;
    }

    .newsletter-inner {
      max-width: 600px;
      margin: 0 auto;
      text-align: center;
    }

    .newsletter-inner h2 {
      font-size: 1.75rem;
      font-weight: 700;
      margin-bottom: .75rem;
    }

    .newsletter-inner p {
      opacity: .9;
      margin-bottom: 1.5rem;
      font-size: 1rem;
    }

    .newsletter-form {
      display: flex;
      gap: .75rem;
      flex-direction: column;
    }

    .newsletter-form input {
      flex: 1;
      padding: .875rem 1rem;
      border: none;
      border-radius: .375rem;
      font-size: 1rem;
      outline: none;
    }
    .newsletter-form input:focus {
      box-shadow: 0 0 0 3px rgba(255,111,0,.4);
    }

    /* ABOUT SECTION */
    .about-section {
      padding: 3rem 0;
      border-top: 1px solid var(--border);
    }

    .about-grid {
      display: grid;
      gap: 2rem;
      align-items: center;
    }

    .about-content h2 {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 1rem;
    }

    .about-content p {
      color: var(--text-light);
      margin-bottom: 1rem;
      line-height: 1.7;
    }

    .about-stats {
      display: flex;
      gap: 2rem;
      margin-top: 1.5rem;
    }

    .stat { text-align: center; }
    .stat-number {
      font-size: 1.75rem;
      font-weight: 800;
      color: var(--accent);
      display: block;
    }
    .stat-label {
      font-size: .75rem;
      color: var(--text-light);
      text-transform: uppercase;
      letter-spacing: .05em;
    }

    /* HERO ROTATION INDICATORS */
    .hero-dots {
      display: flex;
      gap: .5rem;
      margin-top: 1.5rem;
    }
    .hero-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: rgba(255,255,255,.3);
      border: none;
      cursor: pointer;
      transition: all .3s ease;
      padding: 0;
    }
    .hero-dot.active {
      background: #fff;
      transform: scale(1.2);
    }
    .hero-dot:hover { background: rgba(255,255,255,.6); }

    .hero-content {
      transition: opacity .4s ease;
    }
    .hero-content.fade-out { opacity: 0; }
    .hero-content.fade-in { opacity: 1; }

    /* MOST POPULAR SECTION */
    .popular-section {
      padding: 3rem 0 1rem;
      background: var(--bg-light);
    }

    .popular-grid {
      display: grid;
      gap: 1.5rem;
    }

    .popular-card {
      background: #fff;
      border-radius: .75rem;
      overflow: hidden;
      box-shadow: 0 2px 12px rgba(0,0,0,.1);
      transition: transform .3s ease, box-shadow .3s ease;
      border: 2px solid transparent;
      position: relative;
    }
    .popular-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 24px rgba(0,0,0,.15);
      border-color: var(--accent);
    }

    .popular-badge {
      position: absolute;
      top: .75rem;
      left: .75rem;
      background: var(--accent);
      color: #fff;
      padding: .25rem .75rem;
      border-radius: 9999px;
      font-size: .7rem;
      font-weight: 700;
      text-transform: uppercase;
      z-index: 1;
      box-shadow: 0 2px 8px rgba(255,111,0,.4);
    }

    .popular-card img {
      width: 100%;
      height: auto;
      aspect-ratio: 400/192;
      object-fit: cover;
    }

    .popular-card-content { padding: 1.25rem; }

    .popular-card h3 {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: .5rem;
      line-height: 1.3;
    }
    .popular-card h3 a {
      color: inherit;
      text-decoration: none;
      transition: color .3s ease;
    }
    .popular-card h3 a:hover { color: var(--accent); }

    .popular-card p {
      color: var(--text-light);
      font-size: .875rem;
      margin-bottom: 1rem;
      line-height: 1.5;
    }

    /* LOADING STATE */
    .loading-placeholder {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 200px;
      color: var(--text-light);
    }

    /* NO RESULTS */
    .no-results {
      text-align: center;
      padding: 3rem 1rem;
      color: var(--text-light);
    }
    .no-results p { font-size: 1.1rem; margin-bottom: .5rem; }

    /* RESPONSIVE */
    @media (min-width: 768px) {
      .hero-grid { grid-template-columns: 1fr 1fr; }
      .hero-content h2 { font-size: 2.5rem; }
      .articles-grid { grid-template-columns: repeat(2, 1fr); }
      .popular-grid { grid-template-columns: repeat(3, 1fr); }
      .newsletter-form { flex-direction: row; }
      .about-grid { grid-template-columns: 1fr 1fr; }
    }

    @media (min-width: 1024px) {
      .articles-grid { grid-template-columns: repeat(3, 1fr); }
    }
  </style>

  <!-- Structured Data -->
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"Blog","name":"Best Shower Curtains","description":"Expert reviews, material comparisons, and style guides for waterproof, mildew-resistant shower curtains","url":"https://www.best-shower-curtains.com"}
  </script>
</head>
<body>
  <header id="site-header"></header>

  <!-- HERO SECTION -->
  <section class="hero">
    <div class="container">
      <div class="hero-grid">
        <div>
          <img src="images/top-7-best-shower-curtains-2026-hero.jpg"
               alt="Top 5 Waterproof Shower Curtains That Will Transform Your Bathroom"
               width="800"
               height="240"
               loading="eager"
               fetchpriority="high"
               decoding="sync"
               class="hero-image">
        </div>
        <div class="hero-content" id="hero-content">
          <div class="hero-meta">
            <span class="hero-tag">Featured</span>
            <span>Latest Article</span>
          </div>
          <h1 id="hero-title">Best Shower Curtains - Expert Reviews & Buying Guides 2026</h1>
          <p id="hero-excerpt">Our complete guide to upgrade your bathroom with stylish, waterproof, and mildew-resistant shower curtains. Discover the best options available in 2026.</p>
          <div>
            <a href="#" class="btn-primary" id="hero-link">Read the full article</a>
            <a href="articles.html" class="btn-outline">Browse all articles</a>
          </div>
          <div class="hero-dots" id="hero-dots"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- MAIN CONTENT -->
  <main>
    <!-- MOST POPULAR / EDITOR'S PICKS -->
    <section class="popular-section" id="popular-section" style="display:none;">
      <div class="container">
        <div class="section-header">
          <h2>Editor's Picks</h2>
        </div>
        <div class="popular-grid" id="popular-grid"></div>
      </div>
    </section>

    <!-- LATEST ARTICLES SECTION -->
    <section class="articles-section">
      <div class="container">
        <div class="section-header">
          <h2>Latest Articles</h2>
          <a href="articles.html">View all articles &rarr;</a>
        </div>

        <!-- Category Filters -->
        <div class="category-filters" id="category-filters">
          <button class="filter-btn active" data-category="all">All</button>
          <button class="filter-btn" data-category="Reviews">Reviews</button>
          <button class="filter-btn" data-category="Guides">Guides</button>
          <button class="filter-btn" data-category="Comparisons">Comparisons</button>
        </div>

        <!-- Articles Grid - Dynamically populated -->
        <div class="articles-grid" id="articles-grid">
          <div class="loading-placeholder">Loading articles...</div>
        </div>
      </div>
    </section>

    <!-- NEWSLETTER -->
    <section class="newsletter-section">
      <div class="container">
        <div class="newsletter-inner">
          <h2>Stay Updated on Shower Curtain Trends</h2>
          <p>Get our latest reviews, material guides, and exclusive deals delivered to your inbox every week.</p>
          <form class="newsletter-form" onsubmit="handleNewsletter(event)">
            <input type="email" placeholder="Enter your email address" required>
            <button type="submit" class="btn-primary">Subscribe</button>
          </form>
        </div>
      </div>
    </section>

    <!-- ABOUT SECTION -->
    <section class="about-section">
      <div class="container">
        <div class="about-grid">
          <div class="about-content">
            <h2>Why Trust Best Shower Curtains?</h2>
            <p>We're a team of bathroom design enthusiasts dedicated to helping you find the perfect shower curtain. Every product we review is carefully analyzed based on material quality, waterproof performance, mildew resistance, and real customer feedback.</p>
            <p>Our mission is simple: make your bathroom more functional, more stylish, and easier to maintain.</p>
            <a href="about.html" class="btn-primary" style="margin-top: .5rem;">Learn more about us</a>
          </div>
          <div class="about-stats">
            <div class="stat">
              <span class="stat-number" id="stat-articles">6</span>
              <span class="stat-label">Articles</span>
            </div>
            <div class="stat">
              <span class="stat-number">50+</span>
              <span class="stat-label">Products Reviewed</span>
            </div>
            <div class="stat">
              <span class="stat-number">5K+</span>
              <span class="stat-label">Monthly Readers</span>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer id="site-footer"></footer>

  <script src="components/site-components.js"></script>

  <!-- JAVASCRIPT -->
  <script>
    // Global state
    let allArticles = [];
    let featuredArticles = [];
    let currentHeroIndex = 0;
    let heroInterval = null;

    // Format date
    function formatDate(dateStr) {
      const d = new Date(dateStr + 'T00:00:00');
      return d.toLocaleDateString('en-US', { month: 'short', year: 'numeric' });
    }

    // Tag CSS class
    function getTagClass(category) {
      const map = {
        'Reviews': 'tag-reviews',
        'Guides': 'tag-guides',
        'Comparisons': 'tag-comparisons',
        'Materials Guide': 'tag-guides'
      };
      return map[category] || 'tag-guides';
    }

    // Article card HTML
    function createArticleCard(article) {
      return `
        <article class="article-card">
          <a href="${article.slug}">
            <img src="${article.image}"
                 alt="${article.title}"
                 width="${article.imageWidth || 400}"
                 height="${article.imageHeight || 192}"
                 loading="lazy"
                 decoding="async">
          </a>
          <div class="article-card-content">
            <div class="article-card-meta">
              <span class="tag ${getTagClass(article.category)}">${article.category}</span>
              <span class="article-card-date">${formatDate(article.publishDate)}</span>
            </div>
            <h3><a href="${article.slug}">${article.title}</a></h3>
            <p>${article.summary}</p>
            <a href="${article.slug}" class="read-more">Read article &rarr;</a>
          </div>
        </article>
      `;
    }

    // Popular card HTML (for Editor's Picks)
    function createPopularCard(article, index) {
      const labels = ['Top Pick', 'Popular', 'Trending'];
      return `
        <article class="popular-card">
          <span class="popular-badge">${labels[index] || 'Featured'}</span>
          <a href="${article.slug}">
            <img src="${article.image}"
                 alt="${article.title}"
                 width="${article.imageWidth || 400}"
                 height="${article.imageHeight || 192}"
                 loading="lazy"
                 decoding="async">
          </a>
          <div class="popular-card-content">
            <h3><a href="${article.slug}">${article.title}</a></h3>
            <p>${article.summary}</p>
            <a href="${article.slug}" class="read-more">Read article &rarr;</a>
          </div>
        </article>
      `;
    }

    // Render articles grid with category filter
    function renderArticles(category) {
      const grid = document.getElementById('articles-grid');
      const filtered = category === 'all'
        ? allArticles
        : allArticles.filter(a => a.category === category || (a.category === 'Materials Guide' && category === 'Guides'));

      if (filtered.length === 0) {
        grid.innerHTML = '<div class="no-results"><p>No articles in this category yet.</p></div>';
        return;
      }
      grid.innerHTML = filtered.map(createArticleCard).join('');
    }

    // Render Editor's Picks section
    function renderPopular(featured) {
      if (featured.length === 0) return;
      const section = document.getElementById('popular-section');
      const grid = document.getElementById('popular-grid');
      grid.innerHTML = featured.map((a, i) => createPopularCard(a, i)).join('');
      section.style.display = '';
    }

    // Hero rotation: show article at index
    function showHero(index) {
      if (featuredArticles.length === 0) return;
      const article = featuredArticles[index];
      const content = document.getElementById('hero-content');
      const heroImg = document.querySelector('.hero-image');

      // Fade out
      content.classList.add('fade-out');
      setTimeout(() => {
        document.getElementById('hero-title').textContent = article.title;
        document.getElementById('hero-excerpt').textContent = article.summary;
        document.getElementById('hero-link').href = article.slug;
        if (article.image) heroImg.src = article.image;
        heroImg.alt = article.title;

        // Update dots
        document.querySelectorAll('.hero-dot').forEach((dot, i) => {
          dot.classList.toggle('active', i === index);
        });

        content.classList.remove('fade-out');
      }, 300);

      currentHeroIndex = index;
    }

    // Build hero rotation dots
    function buildHeroDots(count) {
      const container = document.getElementById('hero-dots');
      container.innerHTML = '';
      for (let i = 0; i < count; i++) {
        const dot = document.createElement('button');
        dot.className = 'hero-dot' + (i === 0 ? ' active' : '');
        dot.setAttribute('aria-label', 'Show featured article ' + (i + 1));
        dot.addEventListener('click', () => {
          showHero(i);
          // Reset auto-rotation timer on manual click
          clearInterval(heroInterval);
          heroInterval = setInterval(nextHero, 6000);
        });
        container.appendChild(dot);
      }
    }

    // Next hero in rotation
    function nextHero() {
      const next = (currentHeroIndex + 1) % featuredArticles.length;
      showHero(next);
    }

    // Start hero auto-rotation
    function startHeroRotation() {
      if (featuredArticles.length <= 1) return;
      heroInterval = setInterval(nextHero, 6000);
    }

    // Update stats
    function updateStats(articles) {
      document.getElementById('stat-articles').textContent = articles.length;
    }

    // Setup category filters
    function setupFilters() {
      const buttons = document.querySelectorAll('.filter-btn');
      buttons.forEach(btn => {
        btn.addEventListener('click', function() {
          buttons.forEach(b => b.classList.remove('active'));
          this.classList.add('active');
          renderArticles(this.dataset.category);
        });
      });
    }

    // Load and render everything
    fetch('articles.json')
      .then(r => r.json())
      .then(articles => {
        // Sort by date descending
        articles.sort((a, b) => new Date(b.publishDate) - new Date(a.publishDate));
        allArticles = articles;

        // Separate featured articles
        featuredArticles = articles.filter(a => a.featured);
        // Fallback: if no featured, use 3 most recent
        if (featuredArticles.length === 0) {
          featuredArticles = articles.slice(0, 3);
        }

        // Hero: show first featured with rotation
        showHero(0);
        buildHeroDots(featuredArticles.length);
        startHeroRotation();

        // Editor's Picks section
        renderPopular(featuredArticles);

        // All articles grid
        renderArticles('all');
        updateStats(articles);
        setupFilters();
      })
      .catch(() => {
        document.getElementById('articles-grid').innerHTML =
          '<div class="no-results"><p>Unable to load articles. Please refresh the page.</p></div>';
      });

    // Newsletter handler
    function handleNewsletter(event) {
      event.preventDefault();
      const email = event.target.querySelector('input[type="email"]').value;
      const button = event.target.querySelector('button');
      const originalText = button.textContent;

      if (!email || !email.includes('@')) {
        alert('Please enter a valid email address');
        return;
      }

      button.textContent = 'Subscribing...';
      button.disabled = true;

      setTimeout(() => {
        alert('Thank you for subscribing! You\'ll receive our latest shower curtain reviews and guides.');
        event.target.reset();
        button.textContent = originalText;
        button.disabled = false;
      }, 1200);
    }

    // Deferred service worker registration (no analytics)
    window.addEventListener('load', function() {
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js').catch(err =>
          console.log('SW registration failed:', err)
        );
      }
    });
  </script>
</body>
</html>
